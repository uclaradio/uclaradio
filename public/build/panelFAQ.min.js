webpackJsonp([2],{0:function(e,t,a){var n=a(1),s=a(158),i={url:"/panel/api/faq"},r=a(483),l=a(202).Accordion,o=a(202).Panel,c=a(202).Input,u=a(202).Button,d=a(202).Grid,p=n.createClass({displayName:"FAQPage",render:function(){return n.createElement("div",{className:"panelPage"},n.createElement(d,null,n.createElement(r,null),n.createElement(m,{urls:this.props.urls})))}}),m=n.createClass({displayName:"FAQ",getInitialState:function(){return{faqs:[],tempFAQs:[],editable:!1,editing:!1}},loadDataFromServer:function(){$.ajax({url:this.props.urls.url,dataType:"json",cache:!1,success:function(e){this.setState({faqs:e.faqs}),e.editable&&this.setState({editable:e.editable})}.bind(this),error:function(e,t,a){console.error(this.props.urls.url,t,a.toString())}.bind(this)})},updateFAQ:function(e){this.setState({tempFAQs:e})},updateQuestion:function(e,t){var a=this.state.tempFAQs,n=a[e];n.question=t,a[e]=n,this.setState({tempFAQs:a})},updateAnswer:function(e,t){var a=this.state.tempFAQs,n=a[e];n.answer=t,a[e]=n,this.setState({tempFAQs:a})},addQuestion:function(){var e=this.state.tempFAQs,t=e.length>0?e[e.length-1].id+1:1;e.push({id:t,question:"",answer:""}),this.setState({tempFAQs:e})},deleteQuestion:function(e){var t=this.state.tempFAQs;t.splice(e,1),this.setState({tempFAQs:t})},submitData:function(){var e=this.state.faqs;this.setState({faqs:this.state.tempFAQs}),$.ajax({url:this.props.urls.url,dataType:"json",type:"POST",data:{faqs:JSON.stringify(this.state.tempFAQs)},success:function(e){this.setState({editing:!1,tempFAQs:[]})}.bind(this),error:function(t,a,n){this.setState({faqs:e}),console.error(this.props.urls.url,a,n.toString())}.bind(this)})},toggleEditing:function(){this.setState({tempFAQs:this.state.faqs.slice(0),editing:!this.state.editing})},componentDidMount:function(){this.loadDataFromServer()},render:function(){if(this.state.editing)var e=this.updateQuestion,t=this.updateAnswer,a=this.deleteQuestion,s=this.state.tempFAQs.map(function(s,i){return n.createElement(h,{key:i,qid:i,question:s.question,answer:s.answer,handleUpdateQuestion:e,handleUpdateAnswer:t,handleDelete:a})});else var i=this.state.faqs.map(function(e,t){return n.createElement(o,{header:e.question,eventKey:t,key:t},e.answer)});return n.createElement("div",{className:"faq"},this.state.editing?n.createElement("div",{className:"editQuestions"},s,n.createElement("div",{className:"mainActions"},n.createElement("a",{onClick:this.addQuestion},"+ Add New Question"),n.createElement("span",{className:"rightFloat"},n.createElement(u,{onClick:this.submitData,className:"lightPadding"},"Submit"),n.createElement(u,{className:"cancelLink lightPadding",onClick:this.toggleEditing},"Cancel")))):n.createElement("div",{className:"questions"},n.createElement(l,null,i),this.state.editable?n.createElement("p",{className:"mainActions"},n.createElement("a",{className:"rightFloat",onClick:this.toggleEditing},"Edit")):""))}}),h=n.createClass({displayName:"QuestionEdit",updateQuestion:function(e){this.props.handleUpdateQuestion(this.props.qid,e.target.value)},updateAnswer:function(e){this.props.handleUpdateAnswer(this.props.qid,e.target.value)},deleteQuestion:function(){this.props.handleDelete(this.props.qid)},render:function(){return n.createElement("div",{className:"questionEdit"},n.createElement("p",{className:"actions"},"Question ",this.props.qid+1," ",n.createElement("a",{className:"cancelLink rightFloat",onClick:this.deleteQuestion},"Delete")),n.createElement("form",{className:"form-horizontal"},n.createElement(c,{type:"text",value:this.props.question,placeholder:"Question",ref:"input",groupClassName:"input",wrapperClassName:"col-xs-12",onChange:this.updateQuestion}),n.createElement(c,{type:"textarea",value:this.props.answer,placeholder:"Answer",ref:"input",groupClassName:"input",wrapperClassName:"col-xs-12",onChange:this.updateAnswer})))}});s.render(n.createElement(p,{urls:i}),document.getElementById("content"))},483:function(e,t,a){var n=a(1),s="/panel/api/userlinks",i=a(202).Navbar,r=a(202).Nav,l=a(202).NavItem,o=n.createClass({displayName:"PanelLinksNavbar",getInitialState:function(){return{links:[]}},loadDataFromServer:function(){$.ajax({url:s,dataType:"json",cache:!1,success:function(e){this.setState({links:e.links,loggedin:e.loggedin})}.bind(this),error:function(e,t,a){console.error(s,t,a.toString())}.bind(this)})},styleLink:function(e,t){return t==window.location.pathname?n.createElement("span",{className:"navbarSelected"},e):e},componentDidMount:function(){this.loadDataFromServer()},render:function(){var e=this.styleLink,t=this.state.links.map(function(t,a){return n.createElement(l,{eventKey:a,key:a,href:t.link},e(t.title,t.link))});return n.createElement("div",{className:"panelLinksNavbar"},n.createElement(i,null,n.createElement(i.Header,null,n.createElement(i.Brand,null,n.createElement("a",{href:"/panel/home"},e("Secret DJ Panel","/panel/home"))),n.createElement(i.Toggle,null)),n.createElement(i.Collapse,null,n.createElement(r,null,t),this.state.loggedin?n.createElement(r,{pullRight:!0},n.createElement(l,{id:"navbarLogout",eventKey:1,href:"/panel/logout"},"Log Out")):"")))}});e.exports=o}});